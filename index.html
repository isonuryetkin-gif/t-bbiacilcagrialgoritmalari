<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>112 Eƒüitim & D√ºello</title>
<style>
  :root {
    --primary-color: #003366; 
    --accent-color: #e74c3c;
    --success-color: #27ae60;
    --warning-color: #f39c12; 
    --bg-color: #f0f2f5;
    --card-bg: #ffffff;
    --text-color: #2c3e50;
  }

  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--bg-color);
    height: 100vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    font-size: 14px; 
  }

  /* --- HEADER --- */
  .ust-bar {
    background-color: var(--primary-color);
    color: white;
    padding: 10px 15px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 2px 10px rgba(0,0,0,0.15);
    z-index: 10;
    flex-shrink: 0;
  }

  .ust-baslik {
    font-weight: 800;
    font-size: 13px;
    max-width: 65%;
    line-height: 1.2;
    text-align: left;
  }

  .ust-imza {
    font-size: 10px;
    font-weight: 400;
    text-align: right;
    color: #bdc3c7;
    line-height: 1.2;
  }
  .ust-imza strong {
    color: white;
    font-weight: 700;
    display: block;
  }

  /* --- SAYFA YAPISI --- */
  .sayfa {
    flex: 1;
    display: none; 
    flex-direction: column;
    align-items: center;
    padding: 10px;
    overflow-y: auto;
    width: 100%;
    box-sizing: border-box;
  }

  .sayfa.aktif {
    display: flex;
  }

  /* --- MENU --- */
  .menu-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 10px;
    width: 100%;
    max-width: 600px;
  }

  .menu-item {
    background: white;
    border-radius: 10px;
    padding: 12px;
    text-align: center;
    box-shadow: 0 2px 5px rgba(0,0,0,0.05);
    cursor: pointer;
    transition: transform 0.2s;
    border-bottom: 3px solid var(--primary-color);
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    min-height: 70px;
  }

  .menu-item:active { transform: scale(0.98); }
  .menu-baslik { font-weight: 700; color: var(--primary-color); font-size: 13px; line-height: 1.2; }
  .menu-sayi { font-size: 10px; color: #7f8c8d; margin-top: 3px; }

  /* BUTONLAR */
  .ana-btn {
    width: 100%;
    max-width: 600px;
    padding: 15px;
    border-radius: 10px;
    text-align: center;
    font-weight: 800;
    font-size: 15px;
    margin-bottom: 10px;
    cursor: pointer;
    border: none;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 8px;
    color: white;
  }
  .test-btn { background: linear-gradient(135deg, #3498db, #2980b9); }
  .duello-btn { background: linear-gradient(135deg, #e74c3c, #c0392b); box-shadow: 0 3px 10px rgba(231, 76, 60, 0.3); }
  .ana-btn:active { transform: scale(0.98); }

  /* --- ONLINE LOBBY --- */
  .lobby-kutusu {
    background: white;
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    width: 100%;
    max-width: 400px;
    text-align: center;
  }
  .lobby-input {
    width: 100%;
    padding: 15px;
    font-size: 20px;
    text-align: center;
    letter-spacing: 5px;
    margin: 15px 0;
    border: 2px solid #ddd;
    border-radius: 10px;
    font-weight: bold;
    box-sizing: border-box;
  }
  .lobby-kod {
    font-size: 32px;
    font-weight: 900;
    color: var(--primary-color);
    letter-spacing: 5px;
    margin: 20px 0;
    background: #f0f2f5;
    padding: 10px;
    border-radius: 10px;
    border: 2px dashed var(--primary-color);
  }

  /* --- FLASH KART TASARIMI --- */
  .kart-sistemi-kapsayici {
    width: 100%;
    max-width: 600px;
    height: 100%;
    display: flex;
    flex-direction: column;
  }

  .konu-basligi {
    font-size: 13px;
    color: #7f8c8d;
    margin-bottom: 8px;
    text-transform: uppercase;
    font-weight: 700;
    text-align: center;
  }

  .sahne {
    width: 100%;
    flex: 1;
    perspective: 1000px;
    cursor: pointer;
    margin-bottom: 10px;
    min-height: 200px;
  }

  .kart {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transition: transform 0.6s cubic-bezier(0.4, 0.2, 0.2, 1);
    border-radius: 12px;
    box-shadow: 0 5px 15px rgba(0,51,102,0.1);
  }

  .kart.cevrildi { transform: rotateY(180deg); }

  .kart-yuzu {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 15px;
    box-sizing: border-box;
    text-align: center;
    border-radius: 12px;
    font-size: 15px;
    line-height: 1.3;
    user-select: none;
    background: white;
    overflow-y: auto;
  }

  .kart-on { border-top: 5px solid var(--primary-color); color: var(--primary-color); }
  .kart-arka { background: var(--primary-color); color: white; transform: rotateY(180deg); border-top: 5px solid var(--accent-color); }
  
  .kart-on::before, .kart-arka::before {
    position: absolute; top: 10px; left: 10px; font-size: 9px; font-weight: 800;
    padding: 2px 5px; border-radius: 3px;
  }
  .kart-on::before { content: "SORU"; background: #f0f3f5; color: #95a5a6; }
  .kart-arka::before { content: "CEVAP"; background: #fff; color: var(--primary-color); }

  .kontrol-paneli {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: 100%;
    padding: 5px 0;
  }

  .btn {
    background-color: white; color: var(--primary-color); border: 2px solid var(--primary-color);
    padding: 8px 16px; border-radius: 50px; cursor: pointer; font-weight: 700; font-size: 12px;
  }
  .geri-don-btn {
    background: transparent; border: none; color: var(--primary-color); font-weight: 700;
    display: flex; align-items: center; gap: 5px; cursor: pointer; padding: 5px 0; align-self: flex-start; font-size: 13px;
  }

  /* --- TEST MODU TASARIMI --- */
  .test-container {
    width: 100%;
    max-width: 600px;
    display: flex;
    flex-direction: column;
    gap: 10px;
    height: 100%;
  }

  .ilerleme-bar-kapsayici {
    width: 100%;
    height: 6px;
    background-color: #e0e0e0;
    border-radius: 3px;
    overflow: hidden;
    margin-bottom: 2px;
    flex-shrink: 0;
  }
  
  .ilerleme-bar-dolgu {
    height: 100%;
    background-color: var(--success-color);
    width: 0%;
    transition: width 0.3s ease;
  }

  .test-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background: white;
    padding: 8px 12px;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.05);
    font-size: 12px;
    flex-shrink: 0;
  }

  .skor-badge {
    font-weight: 700;
    padding: 4px 8px;
    border-radius: 15px;
    display: flex;
    align-items: center;
    gap: 5px;
  }
  .skor-sen { background: #e8f8f5; color: var(--success-color); }
  .skor-rakip { background: #fdedec; color: var(--accent-color); }

  .soru-kutusu {
    background: white;
    padding: 15px;
    border-radius: 10px;
    border-left: 4px solid var(--warning-color);
    box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    font-weight: 600;
    color: var(--text-color);
    font-size: 15px;
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    flex-shrink: 0;
  }

  .siklar-listesi {
    display: flex;
    flex-direction: column;
    gap: 8px;
    overflow-y: auto; 
    flex: 1;
    padding-bottom: 10px;
  }

  .sik-btn {
    background: white;
    border: 1px solid #e0e0e0;
    padding: 12px;
    border-radius: 8px;
    text-align: left;
    color: var(--text-color);
    font-size: 13px;
    cursor: pointer;
    transition: all 0.2s;
    font-weight: 500;
  }

  .sik-btn:active { transform: scale(0.98); background-color: #f9f9f9; }
  .sik-btn.dogru { background-color: var(--success-color); color: white; border-color: var(--success-color); }
  .sik-btn.yanlis { background-color: var(--accent-color); color: white; border-color: var(--accent-color); }
  .sik-btn.pasif { pointer-events: none; opacity: 0.6; }

  .sonuc-ekrani {
    text-align: center;
    padding: 20px;
    background: white;
    border-radius: 15px;
    box-shadow: 0 5px 20px rgba(0,0,0,0.1);
    display: none;
    flex-direction: column;
    align-items: center;
    gap: 10px;
    margin-top: 20px;
  }
  .sonuc-puan { font-size: 40px; font-weight: 800; color: var(--primary-color); }

</style>
</head>
<body>

<div class="ust-bar">
  <div class="ust-baslik">TIBBƒ∞ ACƒ∞L √áAƒûRI ALGORƒ∞TMALARI<br>TEST VE Bƒ∞LGƒ∞ KARTLARI</div>
  <div class="ust-imza">
    Hazƒ±rlayan:<br><strong>Onur Yetkin</strong>
  </div>
</div>

<div id="sayfa-menu" class="sayfa aktif">
  <button class="ana-btn test-btn" onclick="baslatTekKisilikTest()">
    <span>üß†</span> TEK Kƒ∞≈ûƒ∞Lƒ∞K TEST
  </button>
  <button class="ana-btn duello-btn" onclick="baslatOnlineLobby()">
    <span>‚öîÔ∏è</span> ONLƒ∞NE 2 Kƒ∞≈ûƒ∞Lƒ∞K TEST (Canlƒ±)
  </button>
  
  <div style="margin: 10px 0; text-align:center; color:#555; font-size:12px; border-top:1px solid #ddd; padding-top:10px; width:100%;">
    veya konu bazlƒ± kartlarƒ± incele:
  </div>
  <div class="menu-grid" id="menuKonteyner"></div>
</div>

<div id="sayfa-kartlar" class="sayfa">
  <div class="kart-sistemi-kapsayici">
    <button class="geri-don-btn" onclick="menuyeDon()">&#8592; Men√ºye D√∂n</button>
    <div class="konu-basligi" id="aktifKonuBasligi">GENEL</div>
    <div class="sahne" onclick="kartCevir()">
      <div class="kart" id="kartObjesi">
        <div class="kart-yuzu kart-on"><div id="soruMetni">...</div></div>
        <div class="kart-yuzu kart-arka"><div id="cevapMetni">...</div></div>
      </div>
    </div>
    <div style="text-align: center; color:#95a5a6; font-size:11px; margin-bottom:5px;">Cevap i√ßin dokunun</div>
    <div class="kontrol-paneli">
      <button class="btn" onclick="kartDegistir(-1)">&#8592; Geri</button>
      <div class="sayac" id="sayacMetni">1 / 10</div>
      <button class="btn" onclick="kartDegistir(1)">ƒ∞leri &#8594;</button>
    </div>
  </div>
</div>

<div id="sayfa-lobby" class="sayfa">
  <button class="geri-don-btn" onclick="menuyeDon()">&#8592; Men√ºye D√∂n</button>
  <br>
  <div class="lobby-kutusu">
    <h3>ODA OLU≈ûTUR</h3>
    <p style="font-size:12px; color:#777;">Bir oda kodu √ºret ve arkada≈üƒ±na s√∂yle.</p>
    <button class="ana-btn duello-btn" onclick="onlineOdaKur()">KOD OLU≈ûTUR & BA≈ûLAT</button>
  </div>
  <div style="margin: 20px; font-weight:bold; color:#ccc;">--- VEYA ---</div>
  <div class="lobby-kutusu">
    <h3>ODAYA KATIL</h3>
    <p style="font-size:12px; color:#777;">Arkada≈üƒ±nƒ±n verdiƒüi kodu gir.</p>
    <input type="tel" id="odaKoduInput" class="lobby-input" placeholder="0000" maxlength="4">
    <button class="ana-btn test-btn" onclick="onlineOdayaKatil()">KATIL & BA≈ûLAT</button>
  </div>
</div>

<div id="sayfa-bekleme" class="sayfa">
  <div class="lobby-kutusu">
    <h3>ODA KODU</h3>
    <div class="lobby-kod" id="gosterilenOdaKodu">...</div>
    <p>Rakip bekleniyor...</p>
    <div style="margin-top:20px;">
        <div class="skor-badge skor-sen" id="beklemeDurum">Baƒülantƒ± kuruluyor...</div>
    </div>
  </div>
</div>

<div id="sayfa-test" class="sayfa">
  <div class="test-container" id="testAlani">
    <button class="geri-don-btn" onclick="testiBitir(true)">&#8592; √áƒ±kƒ±≈ü</button>
    
    <div class="ilerleme-bar-kapsayici">
        <div class="ilerleme-bar-dolgu" id="ilerlemeBar"></div>
    </div>

    <div class="test-header">
      <div class="skor-badge skor-sen">SEN: <span id="testDogruSayisi">0</span></div>
      <div style="font-weight:700; color:#555; font-size:12px;">Soru: <span id="testSoruNo">1</span>/<span id="testToplamGosterge">10</span></div>
      <div class="skor-badge skor-rakip" id="rakipSkorKutusu" style="display:none;">RAKƒ∞P: <span id="testRakipSkor">0</span></div>
    </div>
    
    <div class="soru-kutusu" id="testSoruMetni">Soru Y√ºkleniyor...</div>
    <div class="siklar-listesi" id="testSiklar"></div>
  </div>

  <div class="sonuc-ekrani" id="sonucAlani">
    <h2 id="sonucBaslik">Test Bitti!</h2>
    <div class="sonuc-puan" id="finalPuan">%80</div>
    <p id="sonucDetay">...</p>
    <p id="sonucOnlineMesaj" style="font-weight:bold; color:#e74c3c;"></p>
    <button class="test-baslat-btn" onclick="menuyeDon()">Ana Men√º</button>
  </div>
</div>

<script>
  // --- VERƒ∞ SETƒ∞ (64 SORU) ---
  const hamVeri = [
    { kategori: "√áaƒürƒ± Y√∂netimi", soru: "√áaƒürƒ± A√ßƒ±lƒ±≈ü Algoritmasƒ±'na g√∂re, √ßaƒürƒ± alƒ±cƒ±nƒ±n teyit etmesi gereken iki temel bilgi nedir?", cevap: "Olay yeri adresi ve arayanƒ±n telefon numarasƒ±.", yanlislar: ["Hastanƒ±n adƒ± ve soyadƒ±.", "Olayƒ±n tƒ±bbi detayƒ± ve hasta ya≈üƒ±.", "En yakƒ±n karakol ve itfaiye bilgisi."] },
    { kategori: "√áaƒürƒ± Y√∂netimi", soru: "√áaƒürƒ± A√ßƒ±lƒ±≈ü Algoritmasƒ±'nda, arayan ki≈üi adresini bilmiyorsa ona yardƒ±mcƒ± olmak i√ßin hangi y√∂ntemler sorgulanabilir?", cevap: "Posta adresi i√ßin fatura sorgulama, bilindik cami, market, okul, cadde, kav≈üak gibi yerler sorgulanƒ±r.", yanlislar: ["Telefonun GPS'ini a√ßmasƒ± s√∂ylenir.", "Hemen en yakƒ±n baz istasyonu sorgulanƒ±r.", "Polisi aramasƒ± ve yerini onlara tarif etmesi istenir."] },
    { kategori: "√áaƒürƒ± Y√∂netimi", soru: "√áaƒürƒ± A√ßƒ±lƒ±≈ü Algoritmasƒ±'na g√∂re, hastaya seslenildiƒüinde tepki vermiyorsa veya g√∂zleri a√ßƒ±k deƒüilse hangi adƒ±ma ge√ßilir?", cevap: "Derhal ambulans g√∂nderilir.", yanlislar: ["Hasta yakƒ±nƒ±ndan nabƒ±z bakmasƒ± istenir.", "Hastanƒ±n y√ºz√ºne su d√∂k√ºlmesi s√∂ylenir.", "Hastayƒ± sarsarak uyandƒ±rmaya √ßalƒ±≈ümasƒ± s√∂ylenir."] },
    { kategori: "√áaƒürƒ± Y√∂netimi", soru: "√áaƒürƒ± A√ßƒ±lƒ±≈ü Algoritmasƒ±'nda hastanƒ±n g√∂zleri a√ßƒ±k deƒüilse veya uyanƒ±k deƒüilse yapƒ±lmasƒ± gereken eylem nedir?", cevap: "Ambulans g√∂nderilmelidir.", yanlislar: ["Telefon kapatƒ±lƒ±p 5 dakika sonra tekrar aranmalƒ±dƒ±r.", "Hastanƒ±n uyumasƒ±na izin verilmelidir.", "Hasta yakƒ±nƒ±na aƒürƒ± kesici vermesi s√∂ylenmelidir."] },
    { kategori: "√áaƒürƒ± Y√∂netimi", soru: "Ambulans √ßƒ±kƒ±≈üƒ± yapƒ±ldƒ±ktan sonra arayana verilmesi gereken ilk talimat nedir?", cevap: "\"Ambulans y√∂nlendiriyorum, hatta kalƒ±n l√ºtfen.\"", yanlislar: ["\"Telefonu kapatƒ±p ambulansƒ± bekleyin.\"", "\"Hastayƒ± kendi imkanlarƒ±nƒ±zla hastaneye g√∂t√ºr√ºn.\"", "\"Hemen dƒ±≈üarƒ± √ßƒ±kƒ±p ambulansa el sallayƒ±n.\""] },
    { kategori: "√áaƒürƒ± Y√∂netimi", soru: "√áaƒürƒ± a√ßƒ±lƒ±≈üƒ±nda, birden √ßok hasta/yaralƒ± i√ßeren bir olay varsa ne yapƒ±lmalƒ±dƒ±r?", cevap: "Hasta/yaralƒ± sayƒ±sƒ±na uygun sayƒ±da ambulans g√∂nderilmelidir.", yanlislar: ["Tek bir ambulans g√∂nderilip durumun teyit edilmesi beklenir.", "Polis ekiplerinin olay yerine varmasƒ± beklenir.", "Sadece durumu en aƒüƒ±r olan i√ßin ambulans g√∂nderilir."] },
    { kategori: "Solunum Acilleri", soru: "Arayan ki≈üi hastanƒ±n kendisiyse ve konu≈ümada zorlanma veya solunum sƒ±kƒ±ntƒ±sƒ± varsa, gidilmesi gereken bir sonraki algoritma hangisidir?", cevap: "Solunum Sƒ±kƒ±ntƒ±sƒ± Algoritmasƒ±.", yanlislar: ["G√∂ƒü√ºs Aƒürƒ±sƒ± Algoritmasƒ±.", "Alerji Algoritmasƒ±.", "Zehirlenme Algoritmasƒ±."] },
    { kategori: "Solunum Acilleri", soru: "Solunum Sƒ±kƒ±ntƒ±sƒ± Algoritmasƒ±'nda, hastanƒ±n normal konu≈üamamasƒ± veya konu≈üurken nefesinin yetmemesi durumunda ne yapƒ±lmalƒ±dƒ±r?", cevap: "Ambulans g√∂nderilmelidir.", yanlislar: ["Hastaya bir bardak su i√ßirilmelidir.", "Derin nefes alƒ±p vermesi telkin edilmelidir.", "Telefon kapatƒ±lƒ±p dinlenmesi s√∂ylenmelidir."] },
    { kategori: "Solunum Acilleri", soru: "Nefes alƒ±p verirken hƒ±rƒ±ltƒ± veya havlar gibi √∂ks√ºr√ºk gibi sesler duyuluyorsa, Solunum Sƒ±kƒ±ntƒ±sƒ± Algoritmasƒ±'na g√∂re hangi aksiyon alƒ±nƒ±r?", cevap: "Ambulans g√∂nderilmelidir.", yanlislar: ["Boƒüazƒ±na bakmasƒ± istenir.", "Sƒ±cak bir i√ßecek verilmesi √∂nerilir.", "√ñks√ºr√ºk ≈üurubu varsa i√ßmesi s√∂ylenir."] },
    { kategori: "Solunum Acilleri", soru: "Solunum sƒ±kƒ±ntƒ±sƒ± olan bir hastada morarma veya solukluk gibi renk deƒüi≈üikliƒüi g√∂zlemlenirse ne yapƒ±lmalƒ±dƒ±r?", cevap: "Ambulans g√∂nderilmelidir.", yanlislar: ["Camƒ± a√ßƒ±p temiz hava almasƒ± saƒülanƒ±r.", "Ayaklarƒ± yukarƒ± kaldƒ±rƒ±lƒ±r.", "Hastanƒ±n y√ºz√º yƒ±kanƒ±r."] },
    { kategori: "Solunum Acilleri", soru: "Solunum sƒ±kƒ±ntƒ±sƒ±na g√∂ƒü√ºs aƒürƒ±sƒ± e≈ülik ediyorsa, hangi algoritmaya ge√ßi≈ü yapƒ±lƒ±r?", cevap: "G√∂ƒü√ºs Aƒürƒ±sƒ± Algoritmasƒ±'na ge√ßilir.", yanlislar: ["Travma Algoritmasƒ±'na ge√ßilir.", "Arrest Algoritmasƒ±'na ge√ßilir.", "Koma Algoritmasƒ±'na ge√ßilir."] },
    { kategori: "Solunum Acilleri", soru: "Solunum sƒ±kƒ±ntƒ±sƒ± aniden ba≈üladƒ±ysa ve hastanƒ±n bulunduƒüu alanda duman veya farklƒ± bir koku varsa ne yapƒ±lmalƒ±dƒ±r?", cevap: "Ambulans g√∂nderilmeli ve KBRN sorgulamasƒ± yapƒ±lmalƒ±dƒ±r.", yanlislar: ["Sadece ambulans g√∂nderilir.", "ƒ∞tfaiyeye haber verilip beklenir.", "Hastanƒ±n olay yerinde kalmasƒ± s√∂ylenir."] },
    { kategori: "Solunum Acilleri", soru: "Hava Yolu Tƒ±kanƒ±klƒ±ƒüƒ± (Eri≈ükin) Algoritmasƒ±'nda, bilinci a√ßƒ±k hastaya uygulanan sƒ±rt vuru≈üu ve karƒ±n basƒ±sƒ± ka√ßarlƒ± seriler halinde devam ettirilir?", cevap: "5'erli seriler halinde (5 sƒ±rta vuru≈ü, 5 Heimlich).", yanlislar: ["10'arlƒ± seriler halinde.", "3 sƒ±rta vuru≈ü, 3 karƒ±n basƒ±sƒ±.", "Sadece Heimlich manevrasƒ± yapƒ±lƒ±r."] },
    { kategori: "Solunum Acilleri", soru: "Eri≈ükin bir hastanƒ±n hava yolu tƒ±kanƒ±klƒ±ƒüƒ± m√ºdahalesi sƒ±rasƒ±nda bilinci kapanƒ±rsa ne yapƒ±lƒ±r?", cevap: "Arrest CPR Algoritmasƒ±'na ge√ßilir.", yanlislar: ["Heimlich manevrasƒ±na yatarak devam edilir.", "Sƒ±rta vurmaya devam edilir.", "≈ûok pozisyonu verilir."] },
    { kategori: "Solunum Acilleri", soru: "Yabancƒ± cisim aspirasyonu nedeniyle bilinci kapanan ve nefes almayan bir hastaya CPR uygulanƒ±rken her 30 g√∂ƒü√ºs basƒ±sƒ±ndan sonra ne yapƒ±lmalƒ±dƒ±r?", cevap: "Aƒüƒ±z i√ßine bakƒ±lƒ±r, cisim g√∂r√ºl√ºyorsa alƒ±nƒ±r ve sonra 2 nefes verilir.", yanlislar: ["Doƒürudan 2 kurtarƒ±cƒ± nefes verilir.", "Heimlich manevrasƒ± denenir.", "Sadece kalp masajƒ±na devam edilir."] },
    { kategori: "Solunum Acilleri", soru: "KOAH/Astƒ±m hastasƒ± solunum sƒ±kƒ±ntƒ±sƒ± √ßekiyorsa, arayana hangi talimat verilebilir?", cevap: "Nefes rahatlatƒ±cƒ± ila√ßlarƒ±n ek doz verilmesi √∂nerilebilir.", yanlislar: ["Aspirin √ßiƒünemesi s√∂ylenir.", "Bol su i√ßmesi s√∂ylenir.", "D√ºz bir zemine sƒ±rt√ºst√º yatƒ±rƒ±lmasƒ± s√∂ylenir."] },
    { kategori: "Kardiyojenik Aciller", soru: "Hastanƒ±n ya≈üam bulgusu yoksa, √áaƒürƒ± A√ßƒ±lƒ±≈ü Algoritmasƒ±'ndan hangi algoritmaya ge√ßilmelidir?", cevap: "Arrest CPR Algoritmasƒ±.", yanlislar: ["Koma Algoritmasƒ±.", "≈ûok Algoritmasƒ±.", "Hava Yolu Algoritmasƒ±."] },
    { kategori: "Kardiyojenik Aciller", soru: "G√∂ƒü√ºs Aƒürƒ±sƒ± Algoritmasƒ±'na g√∂re, soƒüuk terlemesi olan bir hasta i√ßin yapƒ±lmasƒ± gereken nedir?", cevap: "Ambulans g√∂nderilmelidir.", yanlislar: ["√úzerini √∂rt√ºp ƒ±sƒ±tƒ±lmalƒ±dƒ±r.", "Sƒ±cak bir ≈üeyler i√ßirilmelidir.", "Y√ºz√ºne kolonya s√ºr√ºlmelidir."] },
    { kategori: "Kardiyojenik Aciller", soru: "G√∂ƒü√ºs aƒürƒ±sƒ± olan bir hastada bulantƒ± veya kusma varsa, hangi eylem ger√ßekle≈ütirilmelidir?", cevap: "Ambulans g√∂nderilmelidir.", yanlislar: ["Mide ilacƒ± almasƒ± s√∂ylenir.", "Kusturulmaya √ßalƒ±≈üƒ±lƒ±r.", "Nane limon kaynatƒ±p i√ßmesi s√∂ylenir."] },
    { kategori: "Kardiyojenik Aciller", soru: "G√∂ƒü√ºs aƒürƒ±sƒ±na e≈ülik eden √ßarpƒ±ntƒ± ≈üikayeti durumunda takip edilecek prosed√ºr nedir?", cevap: "Ambulans g√∂ndermek.", yanlislar: ["Hastanƒ±n ƒ±kƒ±nmasƒ± (Valsalva) s√∂ylenir.", "Soƒüuk su ile y√ºz√ºn√º yƒ±kamasƒ± istenir.", "Derin nefes alƒ±p tutmasƒ± istenir."] },
    { kategori: "Kardiyojenik Aciller", soru: "G√∂ƒü√ºs aƒürƒ±sƒ± olan hastanƒ±n aƒürƒ±sƒ± nefes alƒ±p vermekle ya da hareketle deƒüi≈üiyorsa, √ßaƒürƒ± kime aktarƒ±lmalƒ±dƒ±r?", cevap: "Danƒ±≈üman hekime aktarƒ±lmalƒ±dƒ±r.", yanlislar: ["Doƒürudan kapatƒ±lmalƒ±dƒ±r.", "Polise aktarƒ±lmalƒ±dƒ±r.", "Psikolojik destek hattƒ±na y√∂nlendirilmelidir."] },
    { kategori: "Kardiyojenik Aciller", soru: "Kalp, tansiyon gibi s√ºrekli ila√ß kullanƒ±mƒ±nƒ± gerektiren bir hastalƒ±ƒüƒ± olan ve g√∂ƒü√ºs aƒürƒ±sƒ± ya≈üayan bir hastaya ne yapƒ±lmalƒ±dƒ±r?", cevap: "Ambulans g√∂nderilir.", yanlislar: ["ƒ∞lacƒ±nƒ± i√ßip beklemesi s√∂ylenir.", "Aile hekimine gitmesi s√∂ylenir.", "Tansiyonunu √∂l√ß√ºp tekrar aramasƒ± istenir."] },
    { kategori: "Kardiyojenik Aciller", soru: "G√∂ƒü√ºs aƒürƒ±sƒ± olan bir hastaya ambulans gelene kadar verilmesi gereken en √∂nemli talimatlardan biri nedir?", cevap: "Hastayƒ± kesinlikle y√ºr√ºtmemek.", yanlislar: ["Oda i√ßinde y√ºr√ºmesi s√∂ylenir.", "Merdiven inip kapƒ±da beklemesi istenir.", "Egzersiz yapmasƒ± s√∂ylenir."] },
    { kategori: "Kardiyojenik Aciller", soru: "Eri≈ükin Arrest CPR Algoritmasƒ±'nda kalp masajƒ± i√ßin eller nasƒ±l pozisyonlandƒ±rƒ±lƒ±r?", cevap: "Bir elin topuƒüu g√∂ƒüs√ºn alt yarƒ±sƒ±nƒ±n ortasƒ±na konur, diƒüer el √ºzerine kenetlenir.", yanlislar: ["Meme u√ßlarƒ±nƒ±n tam ortasƒ±na konur.", "G√∂ƒü√ºs kemiƒüinin en √ºst ucuna konur.", "Midenin √ºzerine baskƒ± yapƒ±lƒ±r."] },
    { kategori: "Kardiyojenik Aciller", soru: "Eri≈ükin CPR'ƒ±nda etkili bir g√∂ƒü√ºs basƒ±sƒ± i√ßin kompresyon derinliƒüi ne kadar olmalƒ±dƒ±r?", cevap: "Yakla≈üƒ±k 5-6 cm.", yanlislar: ["2-3 cm.", "En az 8 cm.", "G√∂ƒü√ºs kafesinin yarƒ±sƒ± kadar."] },
    { kategori: "Kardiyojenik Aciller", soru: "Gebe (3. Trimester) Arrest CPR Algoritmasƒ±'nda, kalp masajƒ± sƒ±rasƒ±nda rahmin ana damarlara basƒ±sƒ±nƒ± azaltmak i√ßin ne yapƒ±lƒ±r?", cevap: "Hastanƒ±n saƒü kal√ßasƒ±nƒ±n altƒ±na yastƒ±k konularak saƒü tarafƒ± y√ºkseltilir veya bir ki≈üi karnƒ± sola doƒüru √ßeker.", yanlislar: ["Hasta tamamen yan √ßevrilerek masaj yapƒ±lƒ±r.", "Bacaklarƒ± yukarƒ± kaldƒ±rƒ±lƒ±r.", "Hasta y√ºz√ºst√º yatƒ±rƒ±lƒ±r."] },
    { kategori: "Kardiyojenik Aciller", soru: "G√∂ƒü√ºs aƒürƒ±sƒ± olan ve NTG (nitrogliserin) kullanan bir hastaya, ilacƒ±nƒ± almasƒ± ne zaman √∂nerilebilir?", cevap: "Ba≈ü d√∂nmesi veya bayƒ±lma hissi yoksa, doktorunun √∂nerdiƒüi ≈üekilde kullanabilir.", yanlislar: ["Aƒürƒ± ≈üiddetliyse 2 tane birden almasƒ± s√∂ylenir.", "Bayƒ±lma hissi varsa hemen almasƒ± s√∂ylenir.", "Kesinlikle ila√ß almamasƒ± s√∂ylenir."] },
    { kategori: "Kardiyojenik Aciller", soru: "Eri≈ükin Arrest CPR algoritmasƒ±nda, dakikada hedeflenen basƒ± sayƒ±sƒ± ka√ßtƒ±r?", cevap: "Dakikada 100-120 basƒ±.", yanlislar: ["Dakikada 60-80 basƒ±.", "Dakikada 80-100 basƒ±.", "Dakikada 120-140 basƒ±."] },
    { kategori: "N√∂rolojik Aciller", soru: "Koma Algoritmasƒ±'nda, bilinci kapalƒ± bir hastanƒ±n solunumu kontrol edildiƒüinde nefes almadƒ±ƒüƒ± tespit edilirse hangi algoritmaya ge√ßilmelidir?", cevap: "Arrest CPR Algoritmasƒ±'na ge√ßilmelidir.", yanlislar: ["Koma pozisyonu verilir.", "≈ûok pozisyonu verilir.", "Aƒüzƒ±na su verilmeye √ßalƒ±≈üƒ±lƒ±r."] },
    { kategori: "N√∂rolojik Aciller", soru: "Bilinci kapalƒ± ve nefes alan bir hastaya yardƒ±m gelene kadar verilmesi gereken pozisyon nedir?", cevap: "Hastayƒ± yan yatƒ±rmak (Koma pozisyonu).", yanlislar: ["Sƒ±rt√ºst√º yatƒ±rmak.", "Y√ºz√ºst√º yatƒ±rmak.", "Oturtur pozisyona getirmek."] },
    { kategori: "N√∂rolojik Aciller", soru: "Bilinci kapalƒ± bir hastada kusma olmasƒ± durumunda yapƒ±lmasƒ± gereken ilk m√ºdahale nedir?", cevap: "Hastanƒ±n ba≈üƒ±nƒ± yana √ßevirmek ve aƒüzƒ±ndakileri bir bez yardƒ±mƒ± ile almak.", yanlislar: ["Sƒ±rtƒ±na vurmak.", "Su i√ßirmek.", "Dilini dƒ±≈üarƒ± √ßekmek."] },
    { kategori: "N√∂rolojik Aciller", soru: "N√∂bet Algoritmasƒ±'na g√∂re, n√∂bet ge√ßiren bir hastanƒ±n kilitlenmi≈ü √ßenesini a√ßmaya √ßalƒ±≈ümak doƒüru bir m√ºdahale midir?", cevap: "Hayƒ±r, kilitlenmi≈ü √ßene a√ßƒ±lmaya √ßalƒ±≈üƒ±lmamalƒ±dƒ±r.", yanlislar: ["Evet, ka≈üƒ±k yardƒ±mƒ±yla a√ßƒ±lmalƒ±dƒ±r.", "Evet, parmakla a√ßƒ±lmalƒ±dƒ±r.", "Evet, dilin ƒ±sƒ±rƒ±lmamasƒ± i√ßin zorlanmalƒ±dƒ±r."] },
    { kategori: "N√∂rolojik Aciller", soru: "N√∂bet ge√ßiren hastanƒ±n kendisine zarar vermesini √∂nlemek i√ßin yapƒ±lmasƒ± gereken temel m√ºdahale nedir?", cevap: "Ba≈üƒ±nƒ±n altƒ±na yastƒ±k gibi yumu≈üak bir malzeme koymak ve etraftaki tehlikeli e≈üyalarƒ± uzakla≈ütƒ±rmak.", yanlislar: ["Kollarƒ±nƒ± ve bacaklarƒ±nƒ± sƒ±kƒ±ca tutmak.", "√úzerine su d√∂kmek.", "Soƒüan koklatmak."] },
    { kategori: "N√∂rolojik Aciller", soru: "Bilinci kapalƒ± bir hastaya ilk yardƒ±m talimatlarƒ±na g√∂re kesinlikle ne verilmemelidir?", cevap: "Yiyecek ve i√ßecek.", yanlislar: ["Oksijen.", "√úzerine √∂rt√º.", "Yastƒ±k."] },
    { kategori: "N√∂rolojik Aciller", soru: "N√∂bet sonrasƒ± d√∂nemde, hastanƒ±n solunumunu rahatlatmak ve sekresyon aspirasyonunu √∂nlemek i√ßin hangi pozisyon √∂nerilir?", cevap: "Yan yatƒ±≈ü pozisyonu.", yanlislar: ["Sƒ±rt√ºst√º pozisyon.", "Yarƒ± oturur pozisyon.", "≈ûok pozisyonu."] },
    { kategori: "Pediatrik Aciller", soru: "Hava Yolu Tƒ±kanƒ±klƒ±ƒüƒ± (Bebek) Algoritmasƒ±'na g√∂re, bebeƒüin renginde morarma veya solukluk varsa ne yapƒ±lmalƒ±dƒ±r?", cevap: "Ambulans g√∂nderilmelidir.", yanlislar: ["Bebek ters √ßevrilip ayaklarƒ±ndan sallanmalƒ±dƒ±r.", "Bebeƒüin y√ºz√ºne √ºflenmelidir.", "Kusturulmaya √ßalƒ±≈üƒ±lmalƒ±dƒ±r."] },
    { kategori: "Pediatrik Aciller", soru: "Bilinci a√ßƒ±k olan ve hava yolu tƒ±kalƒ± bir bebeƒüe (1-12 ay) yapƒ±lan ilk m√ºdahale ... vuru≈üudur.", cevap: "5 sƒ±rt vuru≈üudur.", yanlislar: ["5 karƒ±n basƒ±sƒ±dƒ±r (Heimlich).", "2 kurtarƒ±cƒ± nefestir.", "10 g√∂ƒü√ºs basƒ±sƒ±dƒ±r."] },
    { kategori: "Pediatrik Aciller", soru: "Bebekte hava yolu tƒ±kanƒ±klƒ±ƒüƒ± m√ºdahalesinde 5 sƒ±rt vuru≈üundan sonra yabancƒ± cisim √ßƒ±kmazsa, bir sonraki adƒ±m nedir?", cevap: "ƒ∞ki parmakla g√∂ƒüs√ºn tam ortasƒ±na 5 kez g√∂ƒü√ºs basƒ±sƒ± uygulamak.", yanlislar: ["Karna bastƒ±rmak.", "Bebeƒüi ba≈ü a≈üaƒüƒ± sallamak.", "Parmaƒüƒ± aƒüza sokup cismi aramak."] },
    { kategori: "Pediatrik Aciller", soru: "Hava yolu tƒ±kanƒ±klƒ±ƒüƒ± olan bir bebek m√ºdahale sƒ±rasƒ±nda bilincini kaybederse hangi algoritmaya ge√ßilmelidir?", cevap: "Arrest CPR Algoritmasƒ±'na ge√ßilmelidir.", yanlislar: ["Koma Algoritmasƒ±'na.", "≈ûok Algoritmasƒ±'na.", "M√ºdahale sonlandƒ±rƒ±lƒ±r."] },
    { kategori: "Pediatrik Aciller", soru: "Hava Yolu Tƒ±kanƒ±klƒ±ƒüƒ± (√áocuk) Algoritmasƒ±'nda, bilinci a√ßƒ±k √ßocuƒüa arkadan sarƒ±larak yapƒ±lan manevranƒ±n adƒ± nedir?", cevap: "Karƒ±n basƒ±sƒ± (Heimlich Manevrasƒ±).", yanlislar: ["Sƒ±rt vuru≈üu.", "CPR.", "Valsalva Manevrasƒ±."] },
    { kategori: "Pediatrik Aciller", soru: "1-8 ya≈ü arasƒ± bilinci a√ßƒ±k bir √ßocukta hava yolu tƒ±kanƒ±klƒ±ƒüƒ± i√ßin yapƒ±lan karƒ±n basƒ±sƒ± nereye uygulanƒ±r?", cevap: "G√∂bek deliƒüinin biraz √ºzerinde, midenin √ºzerine.", yanlislar: ["G√∂ƒü√ºs kemiƒüinin √ºzerine.", "G√∂beƒüin altƒ±na.", "Kaburgalarƒ±n √ºzerine."] },
    { kategori: "Pediatrik Aciller", soru: "Bebek (1-12 ay) Arrest CPR Algoritmasƒ±'nda, solunum yoksa kalp masajƒ±ndan √∂nce ka√ß kurtarƒ±cƒ± soluk verilir?", cevap: "5 kurtarƒ±cƒ± soluk verilir.", yanlislar: ["2 kurtarƒ±cƒ± soluk.", "Soluk verilmez, direkt masaja ba≈ülanƒ±r.", "10 kurtarƒ±cƒ± soluk."] },
    { kategori: "Pediatrik Aciller", soru: "Bebek CPR'ƒ±nda g√∂ƒü√ºs basƒ±sƒ± i√ßin hangi parmaklar kullanƒ±lƒ±r ve nereye uygulanƒ±r?", cevap: "Orta ve y√ºz√ºk parmaƒüƒ±, g√∂ƒüs√ºn tam ortasƒ±na, meme u√ßlarƒ± hizasƒ±na.", yanlislar: ["Ba≈ü parmak, g√∂beƒüin √ºzerine.", "Avu√ß i√ßi, karnƒ±n ortasƒ±na.", "ƒ∞≈üaret parmaƒüƒ±, boƒüaza."] },
    { kategori: "Pediatrik Aciller", soru: "Bebek Arrest CPR Algoritmasƒ±'na g√∂re g√∂ƒü√ºs basƒ±sƒ± derinliƒüi ne kadar olmalƒ±dƒ±r?", cevap: "Yakla≈üƒ±k 4 cm (g√∂ƒü√ºs kafesinin 1/3'√º).", yanlislar: ["1-2 cm.", "En az 6 cm.", "Y√ºzeysel dokunma ≈üeklinde."] },
    { kategori: "Pediatrik Aciller", soru: "Bebek ve √ßocuk CPR'ƒ±nda kalp masajƒ± ve soluk oranƒ± nedir?", cevap: "30 masaj / 2 soluk (30/2).", yanlislar: ["30 masaj / 5 soluk.", "15 masaj / 2 soluk.", "5 masaj / 1 soluk."] },
    { kategori: "Pediatrik Aciller", soru: "√áocuk (1-8 Ya≈ü) Arrest CPR Algoritmasƒ±'nda kalp masajƒ± i√ßin elin neresi kullanƒ±lƒ±r?", cevap: "Bir elin topuƒüu.", yanlislar: ["ƒ∞ki el kenetlenerek.", "Sadece parmaklar.", "Yumruk yapƒ±larak."] },
    { kategori: "Pediatrik Aciller", soru: "√áocuk CPR'ƒ±nda g√∂ƒü√ºs basƒ±sƒ± yakla≈üƒ±k ne kadar derinlikte olmalƒ±dƒ±r?", cevap: "Yakla≈üƒ±k 5 cm (g√∂ƒü√ºs kafesinin 1/3'√º).", yanlislar: ["2-3 cm.", "7-8 cm.", "G√∂ƒü√ºs kafesi tamamen √ß√∂kecek kadar."] },
    { kategori: "Pediatrik Aciller", soru: "Y√ºksek ate≈ü nedeniyle n√∂bet ge√ßiren (febril konv√ºlsiyon) bir √ßocuƒüa n√∂bet sonrasƒ± ne √∂nerilir?", cevap: "√áocuƒüun √ºzerini √∂rtmemek, √ºzerindekileri √ßƒ±karmak ve soƒüutma √∂nermek.", yanlislar: ["Sƒ±cak du≈üa sokulmasƒ±.", "Titremesin diye sƒ±kƒ±ca sarƒ±lmasƒ±.", "Aspirin verilmesi."] },
    { kategori: "Travma", soru: "Bƒ±√ßaklanma/Vurulma Algoritmasƒ±'nda, olay yerinde ≈ü√ºpheli veya saldƒ±rgan hala yakƒ±ndaysa arayana verilmesi gereken ilk talimat nedir?", cevap: "G√ºvenli bir yere gitmesi ve saldƒ±rgandan uzakla≈ümasƒ±.", yanlislar: ["Yaralƒ±ya hemen m√ºdahale etmesi.", "Saldƒ±rganƒ± yakalamaya √ßalƒ±≈ümasƒ±.", "Olay yerinde sabit beklemesi."] },
    { kategori: "Travma", soru: "V√ºcuda saplanmƒ±≈ü kesici bir alet varsa, verilmesi gereken en √∂nemli talimat nedir?", cevap: "Kesinlikle yerinden √ßƒ±karƒ±lmamasƒ± ve oynatƒ±lmamasƒ±.", yanlislar: ["Hemen √ßekip √ßƒ±karƒ±lmasƒ±.", "√áƒ±karƒ±p √ºzerine tampon basƒ±lmasƒ±.", "Etrafƒ±nƒ±n temizlenip √ßƒ±karƒ±lmasƒ±."] },
    { kategori: "Travma", soru: "Delici g√∂ƒü√ºs yaralanmalarƒ±nda, yara √ºzerine hava ge√ßirmeyen bir malzeme kapatƒ±lƒ±rken neden bir k√∂≈üesi a√ßƒ±k bƒ±rakƒ±lƒ±r?", cevap: "Nefes alƒ±≈üƒ±nƒ± bozmamak i√ßin (tansiyon pn√∂motoraksƒ± √∂nlemek amacƒ±yla).", yanlislar: ["Yaranƒ±n hava almasƒ±nƒ± saƒülamak i√ßin.", "Kanamanƒ±n dƒ±≈üarƒ± akmasƒ±nƒ± kolayla≈ütƒ±rmak i√ßin.", "Malzeme yetmediƒüi i√ßin."] },
    { kategori: "Travma", soru: "Delici karƒ±n yaralanmasƒ±nda dƒ±≈üarƒ± √ßƒ±kan organlar i√ßin doƒüru m√ºdahale nedir?", cevap: "ƒ∞√ßeri sokmaya √ßalƒ±≈ümamak, √ºzerine geni≈ü ve nemli temiz bir bez √∂rtmek.", yanlislar: ["Hemen i√ßeri itilmesi.", "√úzerine kuru pamuk kapatƒ±lmasƒ±.", "A√ßƒ±k bƒ±rakƒ±lƒ±p kurumasƒ±nƒ±n saƒülanmasƒ±."] },
    { kategori: "Travma", soru: "Motorlu Ara√ß Kazalarƒ± Algoritmasƒ±'nda, yangƒ±n veya patlama riski olmadƒ±ƒüƒ± s√ºrece yaralƒ±ya nasƒ±l m√ºdahale edilmelidir?", cevap: "Hasta hareket ettirilmemeli ve ara√ß dƒ±≈üƒ±na √ßƒ±karƒ±lmaya √ßalƒ±≈üƒ±lmamalƒ±dƒ±r.", yanlislar: ["Hemen ara√ßtan √ßƒ±karƒ±lƒ±p yere yatƒ±rƒ±lmalƒ±dƒ±r.", "Kucaklanƒ±p g√ºvenli b√∂lgeye ta≈üƒ±nmalƒ±dƒ±r.", "Y√ºr√ºt√ºlmeye √ßalƒ±≈üƒ±lmalƒ±dƒ±r."] },
    { kategori: "Travma", soru: "Trafik kazasƒ± sonrasƒ± olay yeri g√ºvenliƒüi i√ßin reflekt√∂rler, kaza yapan aracƒ±n arkasƒ±na yakla≈üƒ±k ka√ß metre mesafeye konulmalƒ±dƒ±r?", cevap: "Yakla≈üƒ±k 30 metre.", yanlislar: ["5 metre.", "100 metre.", "Aracƒ±n hemen dibine."] },
    { kategori: "Travma", soru: "Kanama ve Kesiler Algoritmasƒ±'nda, ayaƒüa kalkƒ±nca ba≈ü d√∂nmesi, soƒüuk terleme gibi ≈üok bulgularƒ± varsa ne yapƒ±lmalƒ±dƒ±r?", cevap: "Ambulans g√∂nderilmelidir.", yanlislar: ["Ayran i√ßirilmelidir.", "Y√ºz√ºne su √ßarpƒ±lmalƒ±dƒ±r.", "Y√ºr√ºy√ºp a√ßƒ±lmasƒ± s√∂ylenmelidir."] },
    { kategori: "Travma", soru: "Kusma veya dƒ±≈ükƒ±lama ile birlikte kanamasƒ± olan bir hasta i√ßin hangi aksiyon alƒ±nƒ±r?", cevap: "Ambulans g√∂nderilir.", yanlislar: ["ƒ∞shal ilacƒ± almasƒ± s√∂ylenir.", "Mide koruyucu almasƒ± s√∂ylenir.", "Bol su i√ßip beklemesi s√∂ylenir."] },
    { kategori: "Travma", soru: "Dƒ±≈ü kanamalarda, kanayan yer √ºzerine temiz bir bezle baskƒ± yapƒ±lmasƒ±na raƒümen kanama durmazsa ne yapƒ±lmalƒ±dƒ±r?", cevap: "Alttaki bezi kaldƒ±rmadan ikinci bir bez koyarak basƒ±n√ß artƒ±rƒ±lmalƒ±dƒ±r.", yanlislar: ["Bez kaldƒ±rƒ±lƒ±p yara kontrol edilmelidir.", "Yara yƒ±kanƒ±p tekrar basƒ±lmalƒ±dƒ±r.", "Turnike uygulanƒ±p gev≈üetilmelidir."] },
    { kategori: "Travma", soru: "Motorlu ara√ß kazasƒ±nda, ara√ß LPG'li ise ve biliniyorsa hangi ek g√ºvenlik √∂nlemi alƒ±nmalƒ±dƒ±r?", cevap: "Gaz vanasƒ± kapatƒ±lmalƒ±dƒ±r.", yanlislar: ["Depo kapaƒüƒ± a√ßƒ±lmalƒ±dƒ±r.", "Egzoz kapatƒ±lmalƒ±dƒ±r.", "Camlar kapatƒ±lmalƒ±dƒ±r."] },
    { kategori: "Travma", soru: "Burun kanamasƒ± olan bir hastaya telefonda verilecek ilk yardƒ±m talimatƒ± nedir?", cevap: "Burnun √ºst kƒ±smƒ±ndan i≈üaret ve ba≈ü parmaklarƒ±nƒ± kullanarak sƒ±kmasƒ± ve aƒüzƒ±na kan gelirse yutmayƒ±p t√ºk√ºrmesi.", yanlislar: ["Ba≈üƒ±nƒ± geriye doƒüru yatƒ±rmasƒ±.", "Burnuna pamuk tƒ±kamasƒ±.", "Sƒ±rt√ºst√º yatmasƒ±."] },
    { kategori: "Diƒüer Aciller", soru: "Saldƒ±rgan/Cinsel ƒ∞stismar Algoritmasƒ±'nda, kanƒ±tlarƒ±n korunmasƒ± i√ßin maƒüdura verilmesi gereken talimatlar nelerdir?", cevap: "Elbiselerini deƒüi≈ütirmemesi, banyo veya du≈üa girmemesi.", yanlislar: ["Hemen du≈ü alƒ±p temizlenmesi.", "Kƒ±yafetlerini yƒ±kayƒ±p polise vermesi.", "Olay yerini temizlemesi."] },
    { kategori: "Diƒüer Aciller", soru: "Karƒ±n Aƒürƒ±sƒ± Algoritmasƒ±'na g√∂re aƒürƒ±nƒ±n yeri g√∂bek deliƒüinin √ºzerindeyse ne yapƒ±lmalƒ±dƒ±r?", cevap: "Ambulans g√∂nderilmelidir.", yanlislar: ["Sƒ±cak su torbasƒ± konulmalƒ±dƒ±r.", "Aƒürƒ± kesici almasƒ± s√∂ylenmelidir.", "Yemek yemesi s√∂ylenmelidir."] },
    { kategori: "Diƒüer Aciller", soru: "Karƒ±n aƒürƒ±sƒ±na sƒ±rt ve/veya g√∂ƒü√ºs aƒürƒ±sƒ± e≈ülik ediyorsa, hangi algoritmaya ge√ßi≈ü yapƒ±lmasƒ± d√º≈ü√ºn√ºlmelidir?", cevap: "G√∂ƒü√ºs Aƒürƒ±sƒ± Algoritmasƒ±.", yanlislar: ["Zehirlenme Algoritmasƒ±.", "Travma Algoritmasƒ±.", "Psikolojik Destek Algoritmasƒ±."] },
    { kategori: "Diƒüer Aciller", soru: "Elektrik √áarpmasƒ± Algoritmasƒ±'nda, hasta hala elektrik kaynaƒüƒ±na temas ediyorsa, m√ºdahale eden ki≈üiye verilecek ilk ve en √∂nemli talimat nedir?", cevap: "Hastaya dokunmamasƒ± ve elektriƒüi g√ºvenli ≈üekilde ana g√º√ß kaynaƒüƒ±ndan kesmesi.", yanlislar: ["Hastayƒ± tutup √ßekmesi.", "√úzerine su d√∂kmesi.", "Hastanƒ±n elini tutarak nabƒ±z bakmasƒ±."] },
    { kategori: "Diƒüer Aciller", soru: "Alerji/B√∂cek Sokmalarƒ± Algoritmasƒ±'nda, hastanƒ±n y√ºz√ºnde ve boynunda ≈üi≈ülik olmasƒ± durumunda ne yapƒ±lmalƒ±dƒ±r?", cevap: "Ambulans g√∂nderilmelidir.", yanlislar: ["Soƒüuk uygulama yapƒ±p beklemesi s√∂ylenir.", "Alerji ilacƒ± varsa i√ßmesi ve yatmasƒ± s√∂ylenir.", "Limon s√ºr√ºlmesi s√∂ylenir."] },
    { kategori: "Diƒüer Aciller", soru: "Arƒ± sokmasƒ± durumunda, arƒ±nƒ±n iƒünesini √ßƒ±karmak i√ßin doƒüru y√∂ntem nedir?", cevap: "Fƒ±r√ßa yardƒ±mƒ±yla s√ºp√ºr√ºr gibi uzakla≈ütƒ±rmak, cƒ±mbƒ±zla tutup √ßekmeye √ßalƒ±≈ümamak.", yanlislar: ["ƒ∞ki parmakla sƒ±kƒ±p √ßƒ±karmak.", "Cƒ±mbƒ±zla √ßekmek.", "ƒ∞ƒüneyi i√ßeri itmek."] },
    { kategori: "Diƒüer Aciller", soru: "Zehirlenme Algoritmasƒ±'na g√∂re, bilinci a√ßƒ±k ve yutkunabilen bir hastanƒ±n aƒüzƒ± zehirli madde ile temas ettiyse ne yapƒ±lmasƒ± √∂nerilir?", cevap: "Aƒüzƒ±nƒ± bol su ile √ßalkalamasƒ± ve t√ºk√ºrmesi s√∂ylenir.", yanlislar: ["Kusturulmasƒ± s√∂ylenir.", "S√ºt i√ßirilmesi s√∂ylenir.", "Limon suyu i√ßirilmesi s√∂ylenir."] },
    { kategori: "Diƒüer Aciller", soru: "Zehirlenme vakalarƒ±nda, hastayƒ± kusturmaya √ßalƒ±≈ümak doƒüru bir ilk yardƒ±m uygulamasƒ± mƒ±dƒ±r?", cevap: "Hayƒ±r, hasta kusturulmaya √ßalƒ±≈üƒ±lmamalƒ±dƒ±r.", yanlislar: ["Evet, zehri atmasƒ± i√ßin mutlaka kusturulmalƒ±dƒ±r.", "Evet, sadece sƒ±vƒ± zehirlenmelerinde kusturulmalƒ±dƒ±r.", "Evet, tuzlu su verilerek kusturulmalƒ±dƒ±r."] },
    { kategori: "Diƒüer Aciller", soru: "Ambulans g√∂nderildikten sonra zehirlenme vakasƒ±yla ilgili hangi √º√ß temel bilgi sorgulanmalƒ±dƒ±r?", cevap: "Ne alƒ±ndƒ±ƒüƒ±, ne kadar alƒ±ndƒ±ƒüƒ± ve ne zaman alƒ±ndƒ±ƒüƒ± sorgulanmalƒ±dƒ±r.", yanlislar: ["Markasƒ±, fiyatƒ± ve rengi.", "Tadƒ±, kokusu ve ƒ±sƒ±sƒ±.", "Kimin aldƒ±ƒüƒ±, nereden aldƒ±ƒüƒ± ve ni√ßin aldƒ±ƒüƒ±."] }
  ];

  // --- UI ELEMENTLERƒ∞ ---
  const sayfaMenu = document.getElementById('sayfa-menu');
  const sayfaKartlar = document.getElementById('sayfa-kartlar');
  const sayfaTest = document.getElementById('sayfa-test');
  const sayfaLobby = document.getElementById('sayfa-lobby');
  const sayfaBekleme = document.getElementById('sayfa-bekleme');
  const menuKonteyner = document.getElementById('menuKonteyner');
  const kart = document.getElementById('kartObjesi');
  const soruDiv = document.getElementById('soruMetni');
  const cevapDiv = document.getElementById('cevapMetni');
  const sayacDiv = document.getElementById('sayacMetni');
  const aktifKonuBasligi = document.getElementById('aktifKonuBasligi');

  // --- STATE DEƒûƒ∞≈ûKENLERƒ∞ ---
  let aktifListe = [];
  let aktifIndex = 0;
  let testSorulari = [];
  let testSuankiSoruIndex = 0;
  let dogruSayisi = 0;
  let yanlisSayisi = 0;
  let testCevaplandi = false;
  let isMultiplayer = false;

  // --- FONKSƒ∞YONLAR ---

  function menuyuBaslat() {
    menuKonteyner.innerHTML = "";
    const kategoriler = [...new Set(hamVeri.map(item => item.kategori))].sort();
    kategoriler.unshift("T√ºm Konular (Karƒ±≈üƒ±k)");

    kategoriler.forEach(kat => {
      let soruSayisi = kat === "T√ºm Konular (Karƒ±≈üƒ±k)" ? hamVeri.length : hamVeri.filter(item => item.kategori === kat).length;
      const btn = document.createElement('div');
      btn.className = 'menu-item';
      btn.onclick = function() { konuyuAc(kat); };
      btn.innerHTML = `<div class="menu-baslik">${kat}</div><div class="menu-sayi">${soruSayisi} Soru</div>`;
      menuKonteyner.appendChild(btn);
    });
  }

  function sayfayiGoster(sayfaId) {
    document.querySelectorAll('.sayfa').forEach(s => s.classList.remove('aktif'));
    document.getElementById(sayfaId).classList.add('aktif');
  }

  function menuyeDon() {
    if(window.durdurOnlineDinleme) window.durdurOnlineDinleme();
    if(kart.classList.contains('cevrildi')) kart.classList.remove('cevrildi');
    sayfayiGoster('sayfa-menu');
  }

  function konuyuAc(konuAdi) {
    aktifListe = konuAdi === "T√ºm Konular (Karƒ±≈üƒ±k)" ? [...hamVeri] : hamVeri.filter(item => item.kategori === konuAdi);
    listeyiKaristir(aktifListe);
    aktifIndex = 0;
    aktifKonuBasligi.innerText = konuAdi.toUpperCase();
    sayfayiGoster('sayfa-kartlar');
    kartIceriginiYaz();
  }

  function kartIceriginiYaz() {
    soruDiv.innerText = aktifListe[aktifIndex].soru;
    cevapDiv.innerText = aktifListe[aktifIndex].cevap;
    sayacDiv.innerText = (aktifIndex + 1) + " / " + aktifListe.length;
  }
  
  function kartCevir() { kart.classList.toggle('cevrildi'); }
  
  function kartDegistir(yon) {
    if (kart.classList.contains('cevrildi')) {
      kart.classList.remove('cevrildi');
      setTimeout(function() { indexiGuncelle(yon); kartIceriginiYaz(); }, 200);
    } else {
      indexiGuncelle(yon);
      kartIceriginiYaz();
    }
  }

  function indexiGuncelle(yon) {
    if (yon === 1) aktifIndex = (aktifIndex + 1) % aktifListe.length;
    else aktifIndex = (aktifIndex - 1 + aktifListe.length) % aktifListe.length;
  }

  function listeyiKaristir(liste) {
    for (let i = liste.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [liste[i], liste[j]] = [liste[j], liste[i]];
    }
  }

  function baslatTekKisilikTest() {
    isMultiplayer = false;
    document.getElementById('rakipSkorKutusu').style.display = 'none';
    testSorulari = [...hamVeri];
    listeyiKaristir(testSorulari);
    testSorulari = testSorulari.slice(0, 10);
    testiBaslatGenel();
  }

  function testiBaslatGenel() {
    testSuankiSoruIndex = 0;
    dogruSayisi = 0;
    yanlisSayisi = 0;
    
    document.getElementById('testAlani').style.display = 'flex';
    document.getElementById('sonucAlani').style.display = 'none';
    document.getElementById('testToplamGosterge').innerText = testSorulari.length;

    if(isMultiplayer) {
        document.getElementById('rakipSkorKutusu').style.display = 'flex';
        document.getElementById('testRakipSkor').innerText = "0";
    } else {
        document.getElementById('rakipSkorKutusu').style.display = 'none';
    }

    puanlariGuncelle();
    sayfayiGoster('sayfa-test');
    testSorusuGetir();
  }

  function testSorusuGetir() {
    testCevaplandi = false;
    const soruData = testSorulari[testSuankiSoruIndex];
    document.getElementById('testSoruMetni').innerText = soruData.soru;
    document.getElementById('testSoruNo').innerText = testSuankiSoruIndex + 1;
    
    const yuzde = ((testSuankiSoruIndex) / testSorulari.length) * 100;
    document.getElementById('ilerlemeBar').style.width = yuzde + "%";

    let siklar = [soruData.cevap, ...soruData.yanlislar];
    listeyiKaristir(siklar);

    const siklarDiv = document.getElementById('testSiklar');
    siklarDiv.innerHTML = "";
    
    siklar.forEach(function(sikMetni) {
      const btn = document.createElement('button');
      btn.className = 'sik-btn';
      btn.innerText = sikMetni;
      btn.onclick = function() { cevabiKontrolEt(btn, sikMetni, soruData.cevap); };
      siklarDiv.appendChild(btn);
    });
  }

  function cevabiKontrolEt(secilenBtn, secilenCevap, dogruCevap) {
    if(testCevaplandi) return; 
    testCevaplandi = true;

    const tumButonlar = document.querySelectorAll('.sik-btn');

    if(secilenCevap === dogruCevap) {
      secilenBtn.classList.add('dogru');
      dogruSayisi++;
      if(isMultiplayer && window.updateFirebaseScore) window.updateFirebaseScore(dogruSayisi);
    } else {
      secilenBtn.classList.add('yanlis');
      yanlisSayisi++;
      tumButonlar.forEach(function(btn) {
        if(btn.innerText === dogruCevap) btn.classList.add('dogru');
      });
    }

    tumButonlar.forEach(function(btn) { btn.classList.add('pasif'); });
    puanlariGuncelle();

    setTimeout(function() {
      if(testSuankiSoruIndex < testSorulari.length - 1) { 
        testSuankiSoruIndex++;
        testSorusuGetir();
      } else {
        document.getElementById('ilerlemeBar').style.width = "100%";
        testiBitir(false);
      }
    }, 1200);
  }

  function puanlariGuncelle() {
    document.getElementById('testDogruSayisi').innerText = dogruSayisi;
    document.getElementById('testYanlisSayisi').innerText = yanlisSayisi;
  }

  function testiBitir(erkenCikis) {
    if(erkenCikis) {
      if(!confirm("Testten √ßƒ±kmak istediƒüinize emin misiniz?")) return;
      menuyeDon();
      return;
    }

    document.getElementById('testAlani').style.display = 'none';
    const sonucDiv = document.getElementById('sonucAlani');
    sonucDiv.style.display = 'flex';
    
    const toplamSoru = testSorulari.length;
    const basari = Math.round((dogruSayisi / toplamSoru) * 100);
    
    document.getElementById('finalPuan').innerText = `%${basari}`;
    document.getElementById('sonucDetay').innerText = `${toplamSoru} Soruda ${dogruSayisi} Doƒüru`;
    document.getElementById('sonucOnlineMesaj').innerText = "";

    if(isMultiplayer && window.getFirebaseResult) {
        window.getFirebaseResult(dogruSayisi);
    }
    
    const finalPuanEl = document.getElementById('finalPuan');
    if(basari >= 80) finalPuanEl.style.color = '#27ae60';
    else if(basari >= 50) finalPuanEl.style.color = '#f39c12';
    else finalPuanEl.style.color = '#c0392b';
  }

  // ONLINE PLACEHOLDERLAR
  function baslatOnlineLobby() { 
    if(window.onlineLobbyAc) window.onlineLobbyAc();
    else alert("Online mod y√ºkleniyor veya baƒülantƒ± yok. L√ºtfen bekleyin veya sayfayƒ± yenileyin.");
  }
  function onlineOdaKur() { if(window.onlineOdaOlustur) window.onlineOdaOlustur(); }
  function onlineOdayaKatil() { if(window.onlineOdayaKatil) window.onlineOdayaKatil(); }

  // BA≈ûLANGI√á
  menuyuBaslat();
</script>

<script type="module">
  import { initializeApp } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-app.js";
  import { getDatabase, ref, set, onValue, update, get } from "https://www.gstatic.com/firebasejs/9.22.0/firebase-database.js";

  const firebaseConfig = {
    apiKey: "AIzaSyDuwlo6IC7DPs5RvTrGp-C_WkzvzVOjC3E",
    authDomain: "tibbiacilcagrialgoritmalari.firebaseapp.com",
    databaseURL: "https://tibbiacilcagrialgoritmalari-default-rtdb.firebaseio.com",
    projectId: "tibbiacilcagrialgoritmalari",
    storageBucket: "tibbiacilcagrialgoritmalari.firebasestorage.app",
    messagingSenderId: "583625805130",
    appId: "1:583625805130:web:322faafb6468e1793d05b3",
    measurementId: "G-QXDV2CM027"
  };

  try {
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    let currentRoomId = null;
    let myRole = null;
    let unsubscribeOyun = null;

    // Global Fonksiyonlarƒ± Ez
    window.onlineLobbyAc = function() {
        document.querySelectorAll('.sayfa').forEach(s => s.classList.remove('aktif'));
        document.getElementById('sayfa-lobby').classList.add('aktif');
    };

    window.onlineOdaOlustur = function() {
        const randomKod = Math.floor(1000 + Math.random() * 9000).toString();
        currentRoomId = randomKod;
        myRole = 'host';

        const soruIndexleri = [];
        while(soruIndexleri.length < 10){
            const r = Math.floor(Math.random() * hamVeri.length);
            if(soruIndexleri.indexOf(r) === -1) soruIndexleri.push(r);
        }

        set(ref(db, 'games/' + currentRoomId), {
            status: 'waiting',
            questions: soruIndexleri,
            hostScore: 0,
            joinerScore: 0,
            createdAt: Date.now()
        }).then(() => {
            document.querySelectorAll('.sayfa').forEach(s => s.classList.remove('aktif'));
            document.getElementById('sayfa-bekleme').classList.add('aktif');
            document.getElementById('gosterilenOdaKodu').innerText = currentRoomId;
            document.getElementById('beklemeDurum').innerText = "Rakip Bekleniyor...";
            baslaOdaDinlemeye();
        });
    };

    window.onlineOdayaKatil = function() {
        const girilenKod = document.getElementById('odaKoduInput').value;
        if(girilenKod.length !== 4) { alert("L√ºtfen 4 haneli kodu giriniz."); return; }
        
        currentRoomId = girilenKod;
        myRole = 'joiner';

        get(ref(db, 'games/' + currentRoomId)).then((snapshot) => {
            if (snapshot.exists()) {
                const data = snapshot.val();
                if(data.status !== 'waiting') {
                    alert("Bu oyun ba≈ülamƒ±≈ü."); return;
                }
                update(ref(db, 'games/' + currentRoomId), {
                    status: 'playing',
                    joinerJoined: true
                }).then(() => {
                    if(data.questions) {
                        isMultiplayer = true;
                        testSorulari = data.questions.map(idx => hamVeri[idx]);
                        baslaOdaDinlemeye();
                        testiBaslatGenel();
                    }
                });
            } else {
                alert("Oda bulunamadƒ±!");
            }
        });
    };

    window.updateFirebaseScore = function(score) {
        const updateField = myRole === 'host' ? 'hostScore' : 'joinerScore';
        update(ref(db, 'games/' + currentRoomId), { [updateField]: score });
    };

    window.getFirebaseResult = function(myScore) {
        get(ref(db, 'games/' + currentRoomId)).then((snapshot) => {
            const data = snapshot.val();
            let rakipPuan = 0;
            if(myRole === 'host') rakipPuan = data.joinerScore || 0;
            else rakipPuan = data.hostScore || 0;

            let mesaj = "";
            if(myScore > rakipPuan) mesaj = "TEBRƒ∞KLER! KAZANDIN üèÜ";
            else if(myScore < rakipPuan) mesaj = "MAALESEF KAYBETTƒ∞N üòî";
            else mesaj = "DOSTLUK KAZANDI ü§ù";
            
            document.getElementById('sonucOnlineMesaj').innerText = `Rakip: ${rakipPuan} Doƒüru\n${mesaj}`;
        });
    };

    window.durdurOnlineDinleme = function() {
        if(unsubscribeOyun) { unsubscribeOyun(); unsubscribeOyun = null; }
    };

    function baslaOdaDinlemeye() {
        const gameRef = ref(db, 'games/' + currentRoomId);
        unsubscribeOyun = onValue(gameRef, (snapshot) => {
            const data = snapshot.val();
            if(!data) return;

            if(myRole === 'host' && data.status === 'playing' && document.getElementById('sayfa-bekleme').classList.contains('aktif')) {
                document.getElementById('sayfa-bekleme').classList.remove('aktif');
                if(data.questions) {
                    isMultiplayer = true;
                    testSorulari = data.questions.map(idx => hamVeri[idx]);
                    testiBaslatGenel();
                }
            }

            if(document.getElementById('sayfa-test').classList.contains('aktif') && isMultiplayer) {
                let rakipSkor = 0;
                if(myRole === 'host') rakipSkor = data.joinerScore || 0;
                else rakipSkor = data.hostScore || 0;
                document.getElementById('testRakipSkor').innerText = rakipSkor;
            }
        });
    }

  } catch(e) {
    console.log("Firebase Y√ºklenemedi (Offline Mod):", e);
  }
</script>
</body>
</html>
